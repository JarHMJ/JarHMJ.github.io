<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>frp æš´éœ²å†…ç½‘k8sé›†ç¾¤æœåŠ¡</title>
    <link href="/post/frp-export-service/frp-export-service.html"/>
    <url>/post/frp-export-service/frp-export-service.html</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æƒ³ç€éƒ¨ç½²ä¸€å¥—é¢è¯•ç³»ç»Ÿç”¨æ¥ç®€åŒ–è‡ªå·±çš„é¢è¯•å·¥ä½œï¼Œé¦–å…ˆç¬¬ä¸€ä¸ªé—®é¢˜å°±æŠŠæˆ‘éš¾ä½äº†â€”â€”æ²¡æœ‰èµ„æºï¼Œæœ¬äººåªæœ‰ä¸€å°å°å¼±é¸¡æ²¡æ³•æ¥éƒ¨ç½²è¿™ä¸ªé¢è¯•ç³»ç»Ÿï¼Œäºæ˜¯æƒ³åˆ°äº†éƒ¨é—¨çš„å†…ç½‘æœºå™¨ğŸ˜ï¼Œåˆ©ç”¨å†…ç½‘ç©¿é€æŠ€æœ¯æŠŠæœåŠ¡æš´éœ²å‡ºå»ã€‚</p><p>ä¹‹å‰å°±ä¹…é—»<a href="https://gofrp.org/docs/">frp</a>çš„å¤§åï¼Œgolangç¼–å†™çš„å†…ç½‘ç©¿é€æœåŠ¡ï¼Œæ”¯æŒ TCPã€UDPã€HTTPã€HTTPS ç­‰å¤šç§åè®®ï¼Œæ¥ä¸‹æ¥å°±ç”¨è¿™ä¸ªæ¥è¯•ä¸€ä¸‹å§ã€‚</p><p>ç›®å‰ï¼Œæˆ‘çš„å…¬ç½‘æœºå™¨ä¸Šæœ‰ä¸ªk3é›†ç¾¤ï¼Œæˆ‘çš„æ‰€æœ‰ä¸ªäººæœåŠ¡éƒ½éƒ¨ç½²åœ¨k3sä¸­ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¼šæŠŠfrpçš„æœåŠ¡ç«¯frpséƒ¨ç½²åœ¨k3sä¸­ï¼Œæ–¹ä¾¿ç®¡ç†ï¼Œç„¶ååœ¨å†…ç½‘çš„k8sé›†ç¾¤å†…éƒ¨ç½²frpçš„å®¢æˆ·ç«¯frpcï¼Œè¿™æ ·å°±èƒ½æŠŠå†…ç½‘çš„æœåŠ¡ç»™æš´éœ²åˆ°å…¬ç½‘ï¼Œæ¶æ„å¤§æ¦‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="frp-export-service/image-20220630180516-u0dy0ab.png" alt="image.png"></p><h1 id="æ“ä½œæ­¥éª¤ï¼š"><a href="#æ“ä½œæ­¥éª¤ï¼š" class="headerlink" title="æ“ä½œæ­¥éª¤ï¼š"></a>æ“ä½œæ­¥éª¤ï¼š</h1><h2 id="frps-éƒ¨ç½²é…ç½®"><a href="#frps-éƒ¨ç½²é…ç½®" class="headerlink" title="frps éƒ¨ç½²é…ç½®"></a>frps éƒ¨ç½²é…ç½®</h2><p>frps æœåŠ¡ç«¯ç¨‹åºéœ€è¦éƒ¨ç½²åœ¨å…¬ç½‘é›†ç¾¤ä¸Šï¼Œé€šè¿‡deploymentéƒ¨ç½²ï¼Œyamlå¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">frps</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">frps</span><br>  <span class="hljs-attr">labels:</span><br>    <span class="hljs-attr">app:</span> <span class="hljs-string">frps</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span><br>  <span class="hljs-attr">template:</span><br>    <span class="hljs-attr">metadata:</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">frps</span><br>      <span class="hljs-attr">labels:</span><br>        <span class="hljs-attr">app:</span> <span class="hljs-string">frps</span><br>    <span class="hljs-attr">spec:</span><br>      <span class="hljs-attr">containers:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">frps</span><br>          <span class="hljs-attr">image:</span> <span class="hljs-string">snowdreamtech/frps:0.33.0</span><br>          <span class="hljs-attr">imagePullPolicy:</span> <span class="hljs-string">IfNotPresent</span><br>          <span class="hljs-attr">volumeMounts:</span><br>            <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/frp</span><br>              <span class="hljs-attr">name:</span> <span class="hljs-string">config</span><br>      <span class="hljs-attr">restartPolicy:</span> <span class="hljs-string">Always</span><br>      <span class="hljs-attr">volumes:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">config</span><br>          <span class="hljs-attr">configMap:</span><br>            <span class="hljs-attr">name:</span> <span class="hljs-string">frps</span><br>  <span class="hljs-attr">selector:</span><br>    <span class="hljs-attr">matchLabels:</span><br>      <span class="hljs-attr">app:</span> <span class="hljs-string">frps</span><br></code></pre></td></tr></table></figure><p>frps æœåŠ¡ç«¯ç¨‹åºçš„é…ç½®æ–‡ä»¶é€šè¿‡configMapæŒ‚è½½è¿›podå†…çš„<code>/etc/frp</code>ä¸‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªconfigMap:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">ConfigMap</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">frps</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">frps</span><br><span class="hljs-attr">data:</span><br>  <span class="hljs-attr">frps.ini:</span> <span class="hljs-string">|-</span><br><span class="hljs-string">    [common]</span><br><span class="hljs-string">    bind_port=31000</span><br><span class="hljs-string">    # æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ common é…ç½®ä¸­çš„ token å‚æ•°ä¸€è‡´åˆ™èº«ä»½éªŒè¯é€šè¿‡ã€‚</span><br><span class="hljs-string">    token=xxxxxxx</span><br><span class="hljs-string">    # ä¸ºäº†é˜²æ­¢ç«¯å£è¢«æ»¥ç”¨ï¼Œå¯ä»¥æ‰‹åŠ¨æŒ‡å®šå…è®¸å“ªäº›ç«¯å£è¢«ä½¿ç”¨</span><br><span class="hljs-string">    allow_ports=31001-31100</span><br><span class="hljs-string">    # trace, debug, info, warn, error</span><br><span class="hljs-string">    log_level = info</span><br></code></pre></td></tr></table></figure><p>frps é…ç½®æ–‡ä»¶frps.iniæ›´è¯¦ç»†çš„é…ç½®å¯ä»¥åœ¨<a href="https://gofrp.org/docs/reference/server-configures/">æœåŠ¡ç«¯é…ç½® | frp (gofrp.org)</a>æŸ¥çœ‹ã€‚</p><p>frps æœåŠ¡ç«¯ç¨‹åºbind_port ä¸º 31000ï¼Œæ­¤ç«¯å£æ˜¯ç”¨æ¥å’Œfrpcå®¢æˆ·ç«¯é€šä¿¡çš„ï¼Œæ‰€ä»¥å…¬ç½‘é›†ç¾¤éœ€è¦å¼€é€šè¿™ä¸ªç«¯å£ï¼ŒæŠŠfrpsæœåŠ¡æš´éœ²åˆ°å…¬ç½‘ä¸Šï¼Œæ¥ç€ä¸ºfrpsåˆ›å»ºä¸€ä¸ªnodeportç±»å‹çš„serviceï¼Œæ¥æš´éœ²æœåŠ¡ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">frps</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">frps</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">selector:</span><br>    <span class="hljs-attr">app:</span> <span class="hljs-string">frps</span><br>  <span class="hljs-attr">ports:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">31000</span><br>      <span class="hljs-attr">nodePort:</span> <span class="hljs-number">31000</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">NodePort</span><br></code></pre></td></tr></table></figure><h2 id="frpc-éƒ¨ç½²é…ç½®"><a href="#frpc-éƒ¨ç½²é…ç½®" class="headerlink" title="frpc éƒ¨ç½²é…ç½®"></a>frpc éƒ¨ç½²é…ç½®</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥é…ç½®å®¢æˆ·ç«¯ç¨‹åºäº†ï¼Œfrpcå®¢æˆ·ç«¯è¿˜æ˜¯é€šè¿‡deploymentæ¥éƒ¨ç½²ï¼Œé…ç½®æ–‡ä»¶ä½¿ç”¨configMapæ¥é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">frpc</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">frpc</span><br>  <span class="hljs-attr">labels:</span><br>    <span class="hljs-attr">app:</span> <span class="hljs-string">frpc</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span><br>  <span class="hljs-attr">template:</span><br>    <span class="hljs-attr">metadata:</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">frpc</span><br>      <span class="hljs-attr">labels:</span><br>        <span class="hljs-attr">app:</span> <span class="hljs-string">frpc</span><br>    <span class="hljs-attr">spec:</span><br>      <span class="hljs-attr">containers:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">frpc</span><br>          <span class="hljs-attr">image:</span> <span class="hljs-number">10.29</span><span class="hljs-number">.3</span><span class="hljs-number">.18</span><span class="hljs-string">/docker.io/snowdreamtech/frpc:0.33.0</span><br>          <span class="hljs-attr">imagePullPolicy:</span> <span class="hljs-string">IfNotPresent</span><br>          <span class="hljs-attr">volumeMounts:</span><br>            <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/frp</span><br>              <span class="hljs-attr">name:</span> <span class="hljs-string">config</span><br>      <span class="hljs-attr">restartPolicy:</span> <span class="hljs-string">Always</span><br>      <span class="hljs-attr">volumes:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">config</span><br>          <span class="hljs-attr">configMap:</span><br>            <span class="hljs-attr">name:</span> <span class="hljs-string">frpc</span><br>  <span class="hljs-attr">selector:</span><br>    <span class="hljs-attr">matchLabels:</span><br>      <span class="hljs-attr">app:</span> <span class="hljs-string">frpc</span><br><span class="hljs-meta">---</span><br><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">ConfigMap</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">frpc</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">frpc</span><br><span class="hljs-attr">data:</span><br>  <span class="hljs-attr">frpc.ini:</span> <span class="hljs-string">|-</span><br><span class="hljs-string">    [common]</span><br><span class="hljs-string">    token=xxxxxx</span><br><span class="hljs-string">    server_addr = &quot;å…¬ç½‘é›†ç¾¤çš„node ip&quot;</span><br><span class="hljs-string">    server_port = 31000</span><br><span class="hljs-string">    log_level=info</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><p>é…ç½®ä¸­çš„<code>token</code>æ˜¯ç”¨æ¥è®¤è¯çš„ï¼Œéœ€è¦å’Œfrpsé…ç½®çš„ä¸€æ ·; <code>server_addr</code> æ˜¯å…¬ç½‘é›†ç¾¤çš„node ipï¼Œ<code>server_port</code>æ˜¯ä¹‹å‰æš´éœ²çš„æœåŠ¡ç«¯ç«¯å£ã€‚</p><p>å¦‚æœä½ è·Ÿç€ä¸€èµ·é…ç½®åˆ°è¿™é‡Œï¼Œé‚£ä¹ˆæ­å–œä½ å·²ç»å®Œæˆäº†ä¸€å¤§åŠäº†ï¼Œfrpçš„åŸºç¡€é…ç½®å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥çš„é‚£å°±æ˜¯æš´éœ²å†…ç½‘çš„æœåŠ¡äº†ã€‚</p><h2 id="æš´éœ²å†…ç½‘æœåŠ¡"><a href="#æš´éœ²å†…ç½‘æœåŠ¡" class="headerlink" title="æš´éœ²å†…ç½‘æœåŠ¡"></a>æš´éœ²å†…ç½‘æœåŠ¡</h2><p>å‡è®¾åœ¨å†…ç½‘é›†ç¾¤å†…æœ‰ä¸ªapiçš„æœåŠ¡ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦é€šè¿‡åˆšæ‰é…ç½®çš„frpæ¥æš´éœ²å‡ºå»ã€‚æ¥ä¸‹æ¥æ›´æ–°ä¸€ä¸‹frpcçš„é…ç½®ï¼Œ</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">ConfigMap</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">frpc</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">frpc</span><br><span class="hljs-attr">data:</span><br>  <span class="hljs-attr">frpc.ini:</span> <span class="hljs-string">|-</span><br><span class="hljs-string">    [common]</span><br><span class="hljs-string">    token=xxxxxx</span><br><span class="hljs-string">    server_addr = &quot;å…¬ç½‘é›†ç¾¤çš„node ip&quot;</span><br><span class="hljs-string">    server_port = 31000</span><br><span class="hljs-string">    log_level=info</span><br><span class="hljs-string"></span><br>    [<span class="hljs-string">guestbook-ui</span>]<br>    <span class="hljs-comment">#/api</span><br>    <span class="hljs-string">type</span> <span class="hljs-string">=</span> <span class="hljs-string">tcp</span><br>    <span class="hljs-string">local_ip=guestbook-ui.default</span><br>    <span class="hljs-string">local_port=80</span><br>    <span class="hljs-string">remote_port=31001</span><br></code></pre></td></tr></table></figure><p>æ–°å¢äº†guestbook-ui æœåŠ¡çš„é…ç½®ï¼Œ<code>type</code> ä¸ºtcpï¼Œ<code>local_ip</code>è®¾ç½®ä¸ºguestbook-ui çš„svcåœ°å€ï¼Œ<code>local_port</code>ä¸ºguestbook-ui çš„svcçš„ç«¯å£ï¼Œ<code>remote_port</code>ä¸ºæ˜ å°„åˆ°frpsç«¯çš„ç«¯å£ï¼Œå³è®¿é—®frpsçš„31001ç«¯å£æœåŠ¡å°±èƒ½è®¿é—®åˆ°guestbook-uiã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ›´æ–°ä¸€ä¸‹frpsæœåŠ¡ç«¯çš„é…ç½®ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">frps-port</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">frps</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">selector:</span><br>    <span class="hljs-attr">app:</span> <span class="hljs-string">frps</span><br>  <span class="hljs-attr">ports:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">31001</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;port-31001&quot;</span><br><span class="hljs-meta">---</span><br><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">networking.k8s.io/v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Ingress</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">frps-port</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">frps</span><br>  <span class="hljs-attr">annotations:</span><br>    <span class="hljs-attr">traefik.ingress.kubernetes.io/router.tls.certresolver:</span> <span class="hljs-string">letsencrypt</span><br>    <span class="hljs-attr">traefik.ingress.kubernetes.io/router.entrypoints:</span> <span class="hljs-string">web</span><br>    <span class="hljs-attr">traefik.ingress.kubernetes.io/router.middlewares:</span> <span class="hljs-string">kube-system-redirect@kubernetescrd</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">rules:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">host:</span> <span class="hljs-string">&quot;example.com&quot;</span><br>      <span class="hljs-attr">http:</span><br>        <span class="hljs-attr">paths:</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-attr">path:</span> <span class="hljs-string">/</span><br>            <span class="hljs-attr">pathType:</span> <span class="hljs-string">Prefix</span><br>            <span class="hljs-attr">backend:</span><br>              <span class="hljs-attr">service:</span><br>                <span class="hljs-attr">name:</span> <span class="hljs-string">frps-port</span><br>                <span class="hljs-attr">port:</span><br>                  <span class="hljs-attr">number:</span> <span class="hljs-number">31001</span><br></code></pre></td></tr></table></figure><p>frpsæœåŠ¡ç«¯çš„é…ç½®ä¸»è¦æ˜¯æŠŠguestbook-uiçš„remote_portçš„æœåŠ¡é€šè¿‡ingressæš´éœ²åˆ°å…¬ç½‘ï¼Œå½“ç„¶é€šè¿‡nodeportçš„æ–¹å¼ä¹Ÿå¯ä»¥ã€‚</p><h2 id="åç»­è®¡åˆ’ï¼š"><a href="#åç»­è®¡åˆ’ï¼š" class="headerlink" title="åç»­è®¡åˆ’ï¼š"></a>åç»­è®¡åˆ’ï¼š</h2><p>å…¶å®è¿™ä¸ªæ–¹æ³•æœ‰ä¸ªå¼Šç«¯ï¼Œå°±æ˜¯ä¿®æ”¹å®Œé…ç½®åæ¯æ¬¡éƒ½è¦é‡å¯å®¹å™¨ï¼Œæ²¡æ³•çƒ­åŠ è½½ï¼Œåç»­å†ä¼˜åŒ–ã€‚ã€‚ã€‚ğŸ»</p><h1 id="å‚è€ƒæ–‡æ¡£ï¼š"><a href="#å‚è€ƒæ–‡æ¡£ï¼š" class="headerlink" title="å‚è€ƒæ–‡æ¡£ï¼š"></a>å‚è€ƒæ–‡æ¡£ï¼š</h1><p><a href="https://www.bookstack.cn/read/frp/README_zh.md">frp - ã€Šfrp v0.27 ä¸­æ–‡æ–‡æ¡£ã€‹ - ä¹¦æ ˆç½‘ Â· BookStack</a></p>]]></content>
    
    
    <categories>
      
      <category>äº‘åŸç”Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>frp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>traefik ingress ä½¿ç”¨æŒ‡å—</title>
    <link href="/post/traefik-ingress/traefik-ingress.html"/>
    <url>/post/traefik-ingress/traefik-ingress.html</url>
    
    <content type="html"><![CDATA[<p><img src="traefik-ingress/image-20220630112815-gd519fo.png" alt="image.png"></p><p><a href="https://github.com/containous/traefik">Traefik</a> æ˜¯ä¸€ä¸ªå¼€æºçš„å¯ä»¥ä½¿æœåŠ¡å‘å¸ƒå˜å¾—è½»æ¾æœ‰è¶£çš„è¾¹ç¼˜è·¯ç”±å™¨ã€‚</p><p>ä¸‹é¢å°±ä»‹ç»ä¸¤ç§åœ¨k8sä¸­ä½¿ç”¨å®ƒçš„æ–¹å¼</p><h1 id="IngressRoute"><a href="#IngressRoute" class="headerlink" title="IngressRoute"></a>IngressRoute</h1><p>IngressRoute æ˜¯traefikè‡ªå®šä¹‰çš„CRï¼Œä½œç”¨å’Œk8sä¸­çš„Ingresså·®ä¸å¤šï¼Œå¯¹å¤–æš´éœ²é›†ç¾¤å†…çš„æœåŠ¡ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># http</span><br><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">traefik.containo.us/v1alpha1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">IngressRoute</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">simpleingressroute</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">default</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">entryPoints:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">web</span><br>  <span class="hljs-attr">routes:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">match:</span> <span class="hljs-string">Host(`your.example.com`)</span> <span class="hljs-string">&amp;&amp;</span> <span class="hljs-string">PathPrefix(`/notls`)</span><br>    <span class="hljs-attr">kind:</span> <span class="hljs-string">Rule</span><br>    <span class="hljs-attr">services:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">whoami</span><br>      <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br><span class="hljs-meta">---</span><br><span class="hljs-comment"># https</span><br><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">traefik.containo.us/v1alpha1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">IngressRoute</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">ingressroutetls</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">default</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">entryPoints:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">websecure</span><br>  <span class="hljs-attr">routes:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">match:</span> <span class="hljs-string">Host(`your.example.com`)</span> <span class="hljs-string">&amp;&amp;</span> <span class="hljs-string">PathPrefix(`/tls`)</span><br>    <span class="hljs-attr">kind:</span> <span class="hljs-string">Rule</span><br>    <span class="hljs-attr">services:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">whoami</span><br>      <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br>  <span class="hljs-attr">tls:</span><br>    <span class="hljs-attr">certResolver:</span> <span class="hljs-string">myresolver</span><br></code></pre></td></tr></table></figure><h1 id="Ingress"><a href="#Ingress" class="headerlink" title="Ingress"></a>Ingress</h1><p>å¦å¤–ä¸€ç§æ–¹å¼å°±æ˜¯ä½¿ç”¨k8såŸç”Ÿçš„ingressèµ„æºï¼Œé…ç½®ä¸Šå’ŒNginx Ingresså¤§åŒå°å¼‚ï¼Œæœ‰ä¸€äº›åŠŸèƒ½éœ€è¦é…åˆAnnotationsä½¿ç”¨</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># å¼€å¯https</span><br><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">networking.k8s.io/v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Ingress</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">myingress</span><br>  <span class="hljs-attr">annotations:</span><br>    <span class="hljs-attr">traefik.ingress.kubernetes.io/router.tls.certresolver:</span> <span class="hljs-string">letsencrypt</span><br>    <span class="hljs-attr">traefik.ingress.kubernetes.io/router.entrypoints:</span> <span class="hljs-string">websecure</span><br>    <span class="hljs-attr">traefik.ingress.kubernetes.io/router.tls:</span> <span class="hljs-literal">true</span>    <span class="hljs-comment"># å¼€å¯è¯ä¹¦</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">rules:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">host:</span> <span class="hljs-string">example.com</span><br>      <span class="hljs-attr">http:</span><br>        <span class="hljs-attr">paths:</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-attr">path:</span> <span class="hljs-string">/bar</span><br>            <span class="hljs-attr">pathType:</span> <span class="hljs-string">Exact</span><br>            <span class="hljs-attr">backend:</span><br>              <span class="hljs-attr">service:</span><br>                <span class="hljs-attr">name:</span>  <span class="hljs-string">whoami</span><br>                <span class="hljs-attr">port:</span><br>                  <span class="hljs-attr">number:</span> <span class="hljs-number">80</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-attr">path:</span> <span class="hljs-string">/foo</span><br>            <span class="hljs-attr">pathType:</span> <span class="hljs-string">Exact</span><br>            <span class="hljs-attr">backend:</span><br>              <span class="hljs-attr">service:</span><br>                <span class="hljs-attr">name:</span>  <span class="hljs-string">whoami</span><br>                <span class="hljs-attr">port:</span><br>                  <span class="hljs-attr">number:</span> <span class="hljs-number">80</span><br></code></pre></td></tr></table></figure><p>å…¶å®ƒçš„ä½¿ç”¨å§¿åŠ¿ï¼š</p><p>åç»­å¡«å‘ã€‚ã€‚ã€‚</p><p>å‚è€ƒï¼š</p><p><a href="https://doc.traefik.io/traefik/routing/providers/kubernetes-crd/#kind-ingressroute">Routing Configuration for Traefik CRD - Traefik</a></p><p><a href="https://doc.traefik.io/traefik/routing/providers/kubernetes-ingress/#enabling-tls-via-annotations">Kubernetes Ingress Routing Configuration - Traefik</a></p>]]></content>
    
    
    <categories>
      
      <category>äº‘åŸç”Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>traefik</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>github action å­¦ä¹ </title>
    <link href="/post/github-action-study/github-action-study.html"/>
    <url>/post/github-action-study/github-action-study.html</url>
    
    <content type="html"><![CDATA[<p>ç›®å‰è‡ªå·±blogçš„éƒ¨ç½²æ˜¯ä½¿ç”¨github actionæ¥éƒ¨ç½²çš„ï¼Œåªè¦å†™å®Œæ–‡ç« pushåˆ°githubä»“åº“å°±èƒ½è‡ªå·±buildå’Œdeployï¼Œå®Œå…¨è§£æ”¾ä¹‹å‰deployçš„æ“ä½œã€‚</p><p>github actionç®€ç›´å°±æ˜¯ç¥å™¨ï¼Œå¯ä»¥ç”¨æ¥åšå¾ˆå¤šæœ‰æ„æ€çš„äº‹æƒ…ï¼Œåç»­æœ‰ç”¨åˆ°çš„è¯å†è®°å½•å§ã€‚</p><h2 id="åˆ©ç”¨github-actionéƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨"><a href="#åˆ©ç”¨github-actionéƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨" class="headerlink" title="åˆ©ç”¨github actionéƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨"></a>åˆ©ç”¨github actionéƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨</h2><p>é‡åˆ°å„ç§å‘ï¼ŒğŸ˜‚ğŸ˜‚ï¼Œä¸è¿‡æ€»ç®—æŠŠè¿™ä¸ªæå®šäº†ã€‚<br>å¤§æ¦‚æ€è·¯ï¼š</p><ol><li>æœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªwebhookç”¨æ¥æ‹‰æœ€æ–°çš„blogæ–‡ç« </li><li>github actionå†™ä¸€ä¸ªstepæ¥è¯·æ±‚è¿™ä¸ªwebhook</li><li>æ¯æ¬¡pushä»£ç çš„æ—¶å€™å°±ä¼šè§¦å‘actionå»è¯·æ±‚webhook</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>ci</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éƒ¨ç½²k3sä¹‹æ—…</title>
    <link href="/post/install-k3s/install-k3s.html"/>
    <url>/post/install-k3s/install-k3s.html</url>
    
    <content type="html"><![CDATA[<ol><li><p>å®‰è£…k3s</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -sfL http:<span class="hljs-regexp">//</span>rancher-mirror.cnrancher.com<span class="hljs-regexp">/k3s/</span>k3s-install.sh | INSTALL_K3S_MIRROR=cn sh -<br></code></pre></td></tr></table></figure><p>æ£€æŸ¥æœåŠ¡æ˜¯å¦éƒ½èµ·æ¥äº†ï¼Œéƒ½æ˜¯runningå°±okäº†</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql">â¯ kubectl <span class="hljs-keyword">get</span> po <span class="hljs-operator">-</span>A<br>NAMESPACE     NAME                                      READY   STATUS      RESTARTS   AGE<br>kube<span class="hljs-operator">-</span><span class="hljs-keyword">system</span>   <span class="hljs-keyword">local</span><span class="hljs-operator">-</span>path<span class="hljs-operator">-</span>provisioner<span class="hljs-number">-5</span>ff76fc89d<span class="hljs-operator">-</span>jswg4   <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span>     <span class="hljs-keyword">Running</span>     <span class="hljs-number">0</span>          <span class="hljs-number">2</span>m8s<br>kube<span class="hljs-operator">-</span><span class="hljs-keyword">system</span>   metrics<span class="hljs-operator">-</span>server<span class="hljs-number">-86</span>cbb8457f<span class="hljs-operator">-</span>klq8m           <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span>     <span class="hljs-keyword">Running</span>     <span class="hljs-number">0</span>          <span class="hljs-number">2</span>m8s<br>kube<span class="hljs-operator">-</span><span class="hljs-keyword">system</span>   coredns<span class="hljs-number">-7448499</span>f4d<span class="hljs-operator">-</span>p8gx2                  <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span>     <span class="hljs-keyword">Running</span>     <span class="hljs-number">0</span>          <span class="hljs-number">2</span>m8s<br>kube<span class="hljs-operator">-</span><span class="hljs-keyword">system</span>   helm<span class="hljs-operator">-</span>install<span class="hljs-operator">-</span>traefik<span class="hljs-operator">-</span>crd<span class="hljs-number">-747</span>n2            <span class="hljs-number">0</span><span class="hljs-operator">/</span><span class="hljs-number">1</span>     Completed   <span class="hljs-number">0</span>          <span class="hljs-number">2</span>m8s<br>kube<span class="hljs-operator">-</span><span class="hljs-keyword">system</span>   helm<span class="hljs-operator">-</span>install<span class="hljs-operator">-</span>traefik<span class="hljs-operator">-</span>h2nqf                <span class="hljs-number">0</span><span class="hljs-operator">/</span><span class="hljs-number">1</span>     Completed   <span class="hljs-number">1</span>          <span class="hljs-number">2</span>m8s<br>kube<span class="hljs-operator">-</span><span class="hljs-keyword">system</span>   svclb<span class="hljs-operator">-</span>traefik<span class="hljs-operator">-</span>wjhj6                       <span class="hljs-number">2</span><span class="hljs-operator">/</span><span class="hljs-number">2</span>     <span class="hljs-keyword">Running</span>     <span class="hljs-number">0</span>          <span class="hljs-number">67</span>s<br>kube<span class="hljs-operator">-</span><span class="hljs-keyword">system</span>   traefik<span class="hljs-number">-97</span>b44b794<span class="hljs-operator">-</span>hkhwx                   <span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">1</span>     <span class="hljs-keyword">Running</span>     <span class="hljs-number">0</span>          <span class="hljs-number">68</span>s<br></code></pre></td></tr></table></figure></li><li><p>å¯ç”¨traefikçš„dashboard<br>traefikä»2.0ç‰ˆæœ¬å¼€å§‹dashboardé»˜è®¤æ˜¯ä¸ä¼šå¯ç”¨çš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦è‡ªå·±æ‰‹åŠ¨å¼€å¯ï¼Œéƒ¨ç½²ä¸€ä¸‹IngressRoute,æŠŠç«¯å£æš´éœ²å‡ºå»</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">traefik.containo.us/v1alpha1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">IngressRoute</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">traefik-dashboard</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">kube-system</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">entryPoints:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">web</span><br>  <span class="hljs-attr">routes:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">match:</span> <span class="hljs-string">Host(`traefik.qikqiak.com`)</span>  <span class="hljs-comment"># æŒ‡å®šåŸŸå</span><br>    <span class="hljs-attr">kind:</span> <span class="hljs-string">Rule</span><br>    <span class="hljs-attr">services:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">api@internal</span><br>      <span class="hljs-attr">kind:</span> <span class="hljs-string">TraefikService</span>  <span class="hljs-comment"># å¼•ç”¨å¦å¤–çš„ Traefik Service</span><br></code></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ Traefik çš„ IngressRoute å·²ç»å…è®¸è·¨ namespace è¿›è¡Œé€šä¿¡äº†ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å‚æ•° â€“providers.kubernetescrd.allowCrossNamespace=true å¼€å¯ï¼ˆé»˜è®¤å·²ç»å¼€å¯ï¼‰ï¼Œå¼€å¯å IngressRoute å°±å¯ä»¥å¼•ç”¨ IngressRoute å‘½åç©ºé—´ä»¥å¤–çš„å…¶ä»–å‘½åç©ºé—´ä¸­çš„ä»»ä½•èµ„æºäº†ã€‚</p></li><li><p>è‡ªåŠ¨ç”ŸæˆHTTPSè¯ä¹¦<br>Traefikæ”¯æŒä½¿ç”¨Letâ€™s Encryptè‡ªåŠ¨ç”Ÿæˆè¯ä¹¦ï¼Œè¦ä½¿ç”¨ Letâ€™s Encrypt æ¥è¿›è¡Œè‡ªåŠ¨åŒ– HTTPSï¼Œå°±éœ€è¦é¦–å…ˆå¼€å¯ ACMEï¼Œå¼€å¯ ACME éœ€è¦é€šè¿‡é™æ€é…ç½®çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ã€å¯åŠ¨å‚æ•°ç­‰æ–¹å¼æ¥æä¾›ã€‚</p></li></ol><p>ä¿®æ”¹traefikçš„é…ç½®æ–‡ä»¶<code>/var/lib/rancher/k3s/server/manifests/traefik.yaml</code>ï¼Œä¿å­˜åä¼šè‡ªåŠ¨æ›´æ–°traefikçš„pod</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">additionalArguments:</span><br>- <span class="hljs-string">&quot;--certificatesresolvers.letsencrypt.acme.storage=/data/acme.json&quot;</span><br>- <span class="hljs-string">&quot;--certificatesresolvers.letsencrypt.acme.email=849104648@qq.com&quot;</span><br>- <span class="hljs-string">&quot;--certificatesresolvers.letsencrypt.acme.httpchallenge.entrypoint=web&quot;</span><br><span class="hljs-symbol">persistence:</span><br><span class="hljs-symbol">  enabled:</span> true<br><span class="hljs-symbol">securityContext:</span><br><span class="hljs-symbol">  readOnlyRootFilesystem:</span> false<br><span class="hljs-symbol">  runAsGroup:</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">  runAsUser:</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">  runAsNonRoot:</span> false<br></code></pre></td></tr></table></figure><p>è¿™æ ·traefikå°±å¯ä»¥è‡ªåŠ¨å¸®æˆ‘ä»¬é…ç½®è¯ä¹¦äº†</p><p>å†ä¿®æ”¹ä¸€ä¸‹ä¹‹å‰éƒ¨ç½²çš„ingressrouteï¼Œä½¿ä¹‹ä½¿ç”¨è¯ä¹¦</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">traefik.containo.us/v1alpha1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">IngressRoute</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">traefik-dashboard</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">kube-system</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">entryPoints:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">web</span><br>  <span class="hljs-attr">routes:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">match:</span> <span class="hljs-string">Host(`traefik.qikqiak.com`)</span>  <span class="hljs-comment"># æŒ‡å®šåŸŸå</span><br>    <span class="hljs-attr">kind:</span> <span class="hljs-string">Rule</span><br>    <span class="hljs-attr">services:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">api@internal</span><br>      <span class="hljs-attr">kind:</span> <span class="hljs-string">TraefikService</span>  <span class="hljs-comment"># å¼•ç”¨å¦å¤–çš„ Traefik Service</span><br>  <span class="hljs-attr">tls:</span><br>    <span class="hljs-attr">certResolver:</span> <span class="hljs-string">letsencrypt</span><br></code></pre></td></tr></table></figure><p>æ€»ç»“ï¼šæœ¬æ¬¡éƒ¨ç½²k3sè¿˜ç®—é¡ºåˆ©ï¼Œæ²¡æœ‰å­˜åœ¨é•œåƒä¹‹ç±»æ‹‰ä¸ä¸‹æ¥çš„æƒ…å†µï¼Œå› ä¸ºæœ‰ä¸­æ–‡å®˜ç½‘ï¼Œæœ¬åœ°åŒ–ä¹Ÿåšçš„ä¸åšï¼Œæ–‡æ¡£é‡Œç›´æ¥æä¾›çš„å®˜æ–¹çš„é•œåƒï¼Œä¸è¿‡é…ç½®traefikçš„æ—¶å€™æœ‰ç‚¹å‘éœ€è¦çˆ¬ä¸€ä¸‹ï¼Œå¤šçœ‹çœ‹traefikçš„æ–‡æ¡£å§ï¼ï¼ï¼ğŸ»ğŸ»ğŸ»</p>]]></content>
    
    
    <categories>
      
      <category>äº‘åŸç”Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>k3s</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>httpèº«ä»½è®¤è¯ä»‹ç»</title>
    <link href="/post/http-auth/http-auth.html"/>
    <url>/post/http-auth/http-auth.html</url>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©è°ƒè¯•åŒäº‹ä¹‹å‰å†™çš„æ¥å£ï¼Œä½¿ç”¨çš„æ˜¯basicè®¤è¯ï¼Œä½†æ˜¯å½“æˆ‘åœ¨æµè§ˆå™¨é‡Œè¾“å…¥åœ°å€ï¼Œæ•²å›è½¦çš„æ—¶å€™ï¼Œ<br>æœåŠ¡å™¨ç›´æ¥ç»™æˆ‘è¿”å›äº†401çš„é”™è¯¯ï¼Œå®Œå…¨ä¸ç»™æˆ‘è¾“å¯†ç çš„æœºä¼šï¼Œæˆ‘å°±çº³é—·äº†ä¸ºå•¥ä¹‹å‰çš„éƒ½æœ‰ï¼Œç°åœ¨å°±æ²¡äº†ï¼Ÿ<br>æ»¡å¤´çš„é—®å·ï¼Ÿï¼Ÿï¼Ÿ</p><p>åæ¥æŸ¥é˜…èµ„æ–™æ‰å‘ç°ï¼Œhttpåè®®æ˜¯å®šä¹‰äº†ä¸€å¥—èº«ä»½è®¤è¯çš„æµç¨‹ï¼Œç…§ç€è¿™ä¸ªæµç¨‹èµ°å°±ä¼šå¼¹çª—è®©è¾“å…¥å¯†ç ã€‚</p><p><img src="http-auth/1.png" alt="1"></p><p>æµç¨‹ï¼šæœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯è¿”å› <code>401</code>ï¼ˆUnauthorizedï¼Œæœªè¢«æˆæƒçš„ï¼‰ çŠ¶æ€ç ï¼Œå¹¶åœ¨ <code>WWW-Authenticate</code> é¦–éƒ¨æä¾›å¦‚ä½•è¿›è¡ŒéªŒè¯çš„ä¿¡æ¯ï¼Œå…¶ä¸­è‡³å°‘åŒ…å«æœ‰ä¸€ç§è´¨è¯¢æ–¹å¼ã€‚ä¹‹åæœ‰æ„å‘è¯æ˜è‡ªå·±èº«ä»½çš„å®¢æˆ·ç«¯å¯ä»¥åœ¨æ–°çš„è¯·æ±‚ä¸­æ·»åŠ   <code>Authorization</code> é¦–éƒ¨å­—æ®µè¿›è¡ŒéªŒè¯ï¼Œå­—æ®µå€¼ä¸ºèº«ä»½éªŒè¯å‡­è¯ä¿¡æ¯ã€‚é€šå¸¸å®¢æˆ·ç«¯ä¼šå¼¹å‡ºä¸€ä¸ªå¯†ç æ¡†è®©ç”¨æˆ·å¡«å†™ï¼Œç„¶åå‘é€åŒ…å«æœ‰æ°å½“çš„ <code>Authorization</code> é¦–éƒ¨çš„è¯·æ±‚ã€‚</p><p>ç®€å•ç‚¹è¯´å°±æ˜¯åœ¨è¿”å›çš„è¯·æ±‚å¤´é‡Œé¢åŠ ä¸Šï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">WWW-Authenticate: <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span> realm=<span class="hljs-tag">&lt;<span class="hljs-name">realm</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ¥å‘Šè¯‰ç”¨æˆ·ä½ è¦ç”¨ä»€ä¹ˆè®¤è¯æ–¹æ¡ˆè¿›è¡Œè®¤è¯</p><p>ç„¶åå‘é€çš„è¯·æ±‚å¤´é‡Œé¢åŠ ä¸Šï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">Authorization: <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">credentials</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å°±å¯ä»¥å®Œæˆè®¤è¯äº†</p><p>http æ‰€æ”¯æŒçš„è®¤è¯æ–¹å¼æœ‰å¤šç§ï¼Œå…¶ä¸­Basicè®¤è¯æ˜¯æœ€å¸¸è§çš„ï¼Œè¿˜æœ‰ä¸‹é¢ä¸€äº›è®¤è¯æ–¹å¼ï¼š</p><ul><li><strong>Basic</strong> (æŸ¥çœ‹ <a href="https://tools.ietf.org/html/rfc7617">RFC 7617</a>, base64ç¼–ç å‡­è¯. è¯¦æƒ…è¯·å‚é˜…ä¸‹æ–‡.),</li><li><strong>Bearer</strong> (æŸ¥çœ‹ <a href="https://tools.ietf.org/html/rfc6750">RFC 6750</a>, bearer ä»¤ç‰Œé€šè¿‡OAuth 2.0ä¿æŠ¤èµ„æº),</li><li><strong>Digest</strong> (æŸ¥çœ‹ <a href="https://tools.ietf.org/html/rfc7616">RFC 7616</a>, åªæœ‰ md5 æ•£åˆ— åœ¨Firefoxä¸­æ”¯æŒ, æŸ¥çœ‹ <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=472823">bug 472823</a> ç”¨äºSHAåŠ å¯†æ”¯æŒ),</li><li><strong>HOBA</strong> (æŸ¥çœ‹ <a href="https://tools.ietf.org/html/rfc7486">RFC 7486</a> (è‰æ¡ˆ), <strong>H</strong>TTP <strong>O</strong>rigin-<strong>B</strong>ound è®¤è¯, åŸºäºæ•°å­—ç­¾å),</li><li><strong>Mutual</strong> (æŸ¥çœ‹ <a href="https://tools.ietf.org/html/draft-ietf-httpauth-mutual-11">draft-ietf-httpauth-mutual</a>),</li><li><strong>AWS4-HMAC-SHA256</strong> (æŸ¥çœ‹ <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-auth-using-authorization-header.html">AWS docs</a>).</li></ul><p>éšåï¼Œæˆ‘æŸ¥çœ‹äº†ginçš„æºç ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// BasicAuthForRealm returns a Basic HTTP Authorization middleware. It takes as arguments a map[string]string where</span><br><span class="hljs-comment">// the key is the user name and the value is the password, as well as the name of the Realm.</span><br><span class="hljs-comment">// If the realm is empty, &quot;Authorization Required&quot; will be used by default.</span><br><span class="hljs-comment">// (see http://tools.ietf.org/html/rfc2617#section-1.2)</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">BasicAuthForRealm</span><span class="hljs-params">(accounts Accounts, realm <span class="hljs-type">string</span>)</span></span> HandlerFunc &#123;<br><span class="hljs-keyword">if</span> realm == <span class="hljs-string">&quot;&quot;</span> &#123;<br>realm = <span class="hljs-string">&quot;Authorization Required&quot;</span><br>&#125;<br>realm = <span class="hljs-string">&quot;Basic realm=&quot;</span> + strconv.Quote(realm)<br>pairs := processAccounts(accounts)<br><span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *Context)</span></span> &#123;<br><span class="hljs-comment">// Search user in the slice of allowed credentials</span><br>user, found := pairs.searchCredential(c.requestHeader(<span class="hljs-string">&quot;Authorization&quot;</span>))<br><span class="hljs-keyword">if</span> !found &#123;<br><span class="hljs-comment">// Credentials doesn&#x27;t match, we return 401 and abort handlers chain.</span><br>c.Header(<span class="hljs-string">&quot;WWW-Authenticate&quot;</span>, realm)<br>c.AbortWithStatus(http.StatusUnauthorized)<br><span class="hljs-keyword">return</span><br>&#125;<br><br><span class="hljs-comment">// The user credentials was found, set user&#x27;s id to key AuthUserKey in this context, the user&#x27;s id can be read later using</span><br><span class="hljs-comment">// c.MustGet(gin.AuthUserKey).</span><br>c.Set(AuthUserKey, user)<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å‚è€ƒé“¾æ¥ï¼š</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Authentication">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Authentication</a></p>]]></content>
    
    
    <categories>
      
      <category>http</category>
      
      <category>web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>http</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°å¿ƒgolangè¯»å†™é”çš„å‘</title>
    <link href="/post/golang-lock/golang-lock.html"/>
    <url>/post/golang-lock/golang-lock.html</url>
    
    <content type="html"><![CDATA[<p>é¿å…åœ¨é€’å½’è·å–è¯»é”</p>]]></content>
    
    
    <categories>
      
      <category>golang</category>
      
    </categories>
    
    
    <tags>
      
      <tag>golang</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆ¤æ–­å­—å…¸é‡Œæ˜¯å¦å­˜åœ¨é”®çš„å†™æ³•</title>
    <link href="/post/check-key-in-dict/check-key-in-dict.html"/>
    <url>/post/check-key-in-dict/check-key-in-dict.html</url>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆå…ˆçœ‹ä¸¤ä¸ªå‡½æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test1</span>(<span class="hljs-params">**kwargs</span>):<br>    <span class="hljs-keyword">if</span> kwargs.get(<span class="hljs-string">&#x27;a&#x27;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å­˜åœ¨a&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ä¸å­˜åœ¨a&#x27;</span>)<br>        <br>        <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test2</span>(<span class="hljs-params">**kwargs</span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;a&#x27;</span> <span class="hljs-keyword">in</span> kwargs:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å­˜åœ¨a&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ä¸å­˜åœ¨a&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ä¹ä¸€çœ‹ï¼Œéƒ½æ²¡å•¥æ¯›ç—…ï¼Œä¸å°±æ˜¯åˆ¤æ–­kwargsè¿™ä¸ªå­—å…¸é‡Œæœ‰æ²¡æœ‰è¿™ä¸ªé”®å˜›ã€‚</p><p>ç„¶åæˆ‘ä»¬æ‰§è¡Œä¸€ä¸‹çœ‹çœ‹ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;test1:&#x27;</span>)<br>    test1(a=<span class="hljs-number">0</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;test2:&#x27;</span>)<br>    test2(a=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">test1:</span><br>ä¸å­˜åœ¨a<br><span class="hljs-symbol">test2:</span><br>å­˜åœ¨a<br></code></pre></td></tr></table></figure><p>å’¦ï¼Œtest1æ˜æ˜ä¼ äº†aå‚æ•°ï¼Œä¸ºå•¥ç»“æœå´æ˜¯æ²¡æœ‰å‘¢ï¼Ÿ</p><p>åŸæ¥test1ä¸­<code>kwargs.get(&#39;a&#39;)</code>çš„å€¼ä¸º0ï¼Œç„¶åifåˆ¤æ–­çš„æ—¶å€™å°±èµ°äº†elseåˆ†æ”¯ã€‚å”‰ï¼Œå‘å•Šï¼</p><p>æ‰€ä»¥ä»¥ååˆ¤æ–­å­—å…¸é‡Œæœ‰æ²¡æœ‰é”®å°±è€è€å®å®ç”¨inï¼Œè·å–å­—å…¸é‡Œé”®çš„å€¼æ‰ç”¨getï¼Œä¸ç„¶å‡ºäº†bugéƒ½ä¸å¥½æ’æŸ¥ã€‚</p><p>æ³¨ï¼šè®°é‚£äº›å¹´è‡ªå·±å†™çš„bugğŸ˜­ğŸ˜­ğŸ˜­</p>]]></content>
    
    
    <categories>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>gitå­¦ä¹ ä¹‹æ—…</title>
    <link href="/post/git-study.html"/>
    <url>/post/git-study.html</url>
    
    <content type="html"><![CDATA[<h2 id="è¿™ç¯‡ä¸æ˜¯å­¦ä¹ gitçš„æ•™ç¨‹ï¼Œåªæ˜¯ç”¨äºè®°å½•æˆ‘æŒæ¡çš„gitçš„ä¸€ç‚¹ç‚¹çŸ¥è¯†ã€‚"><a href="#è¿™ç¯‡ä¸æ˜¯å­¦ä¹ gitçš„æ•™ç¨‹ï¼Œåªæ˜¯ç”¨äºè®°å½•æˆ‘æŒæ¡çš„gitçš„ä¸€ç‚¹ç‚¹çŸ¥è¯†ã€‚" class="headerlink" title="è¿™ç¯‡ä¸æ˜¯å­¦ä¹ gitçš„æ•™ç¨‹ï¼Œåªæ˜¯ç”¨äºè®°å½•æˆ‘æŒæ¡çš„gitçš„ä¸€ç‚¹ç‚¹çŸ¥è¯†ã€‚"></a>è¿™ç¯‡ä¸æ˜¯å­¦ä¹ gitçš„æ•™ç¨‹ï¼Œåªæ˜¯ç”¨äºè®°å½•æˆ‘æŒæ¡çš„gitçš„ä¸€ç‚¹ç‚¹çŸ¥è¯†ã€‚</h2><p>ç°åœ¨è¦å­¦çš„ä¸œè¥¿çš„å¤ªå¤šäº†ï¼Œåƒgitè¿™ç§å·¥å…·æˆ‘å¹¶ä¸ä¼šåˆ»æ„çš„å»è®°ä»–çš„å‘½ä»¤è¡Œï¼Œå¹³æ—¶ç”¨sourcetreeæ¯”è¾ƒå¤šï¼Œä½†æ˜¯åœ¨æœåŠ¡å™¨å¼€å‘å°±éœ€è¦ç†Ÿæ‚‰å„ç§å‘½ä»¤è¡Œï¼Œæ‰€ä»¥è¿™ç¯‡åªè®°å½•å„ç§gitå‘½ä»¤çš„ä½¿ç”¨ï¼Œä¼šä¸€ç›´æ›´æ–°ã€‚</p><h1 id="git-help"><a href="#git-help" class="headerlink" title="git help"></a>git help</h1><p>å­¦ä¹ gitçš„æœ€å¥½ç”¨çš„å‘½ä»¤ï¼Œè®°ä¸ä½äº†çœ‹ä¸€ä¸‹</p><h2 id="gitå˜åŸº"><a href="#gitå˜åŸº" class="headerlink" title="gitå˜åŸº"></a>gitå˜åŸº</h2><p>git rebase -i (éœ€è¦åˆå¹¶çš„åˆ†æ”¯å)</p><p>è¿™ä¸ªåªç”¨æ¥å¯¹è‡ªå·±æœ¬åœ°çš„åˆ†æ”¯è¿›è¡Œ</p><h2 id="git-config-â€“list"><a href="#git-config-â€“list" class="headerlink" title="git config â€“list"></a>git config â€“list</h2><h2 id="git-pull-r"><a href="#git-pull-r" class="headerlink" title="git pull -r"></a>git pull -r</h2><h2 id="git-cherry-pick"><a href="#git-cherry-pick" class="headerlink" title="git cherry-pick"></a>git cherry-pick</h2><h2 id="git-revert"><a href="#git-revert" class="headerlink" title="git revert"></a>git revert</h2><p>ç”¨ä¸€ä¸ªæ–°çš„commitæ¥æ’¤é”€æäº¤çš„å†…å®¹</p><h2 id="git-rm-â€“cached-r-idea"><a href="#git-rm-â€“cached-r-idea" class="headerlink" title="git rm â€“cached -r .idea"></a>git rm â€“cached -r .idea</h2><p>gitå–æ¶ˆæ–‡ä»¶è·Ÿè¸ª<br>æœ‰æ—¶å€™ä¸€äº›æ–‡ä»¶å·²ç»addåˆ°gitä»“åº“äº†ï¼Œä½†æ˜¯ä½ æƒ³æŠŠè¿™äº›æ–‡ä»¶æ·»åŠ åˆ°.gitignoreä¸­æ—¶ï¼Œä½ éœ€è¦å…ˆå–æ¶ˆæ–‡ä»¶è·Ÿè¸ª</p><p>æœªå®Œå¾…ç»­â€¦â€¦</p>]]></content>
    
    
    <categories>
      
      <category>git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‹æƒ…é“¾æ¥</title>
    <link href="/post/link.html"/>
    <url>/post/link.html</url>
    
    <content type="html"><![CDATA[<p>è¿˜æ²¡æœ‰ï¼Œå¸Œæœ›æœ‰ç›¸äº’äº¤æ¢çš„æœ‹å‹è”ç³»æˆ‘ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å‹é“¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
